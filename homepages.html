<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EPI-KID Questionnaire</title>
    <link rel="stylesheet" href="styles.css">
</head>
<!-- <script type="module">
  // Import Firebase
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDvqVRiUSX185tIX5SvJJiugh5C492buRY",
    authDomain: "epikid-4a22c.firebaseapp.com",
    projectId: "epikid-4a22c",
    storageBucket: "epikid-4a22c.firebasestorage.app",
    messagingSenderId: "243288986692",
    appId: "1:243288986692:web:491fa390391e8e18319811",
    measurementId: "G-ZMRYVRL6CF"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // Check if user is signed in
  onAuthStateChanged(auth, (user) => {
    if (!user) {
      // Not signed in → redirect to login page
      window.location.href = "index.html";  
    }
  });

  // Optional: logout button
  function logout() {
    signOut(auth).then(() => {
      window.location.href = "index.html";
    });
  }
  window.logout = logout; // so you can call logout() from a button
</script> -->

<body>
    <!-- Header Section -->
    <header>
        <h1>EPI-KID Questionnaire (Financial Burden of Pediatric Epilepsy)</h1>
        <p>A comprehensive tool to assess the economic impact of pediatric epilepsy</p>
    </header>
    <!-- Form Section -->
      <button onclick="logout()">Logout</button>
    <div class="form-container">
        <form id="page1-form">
            <h2>Domain 1: Sociodemographics</h2>
            
            <!-- Gender -->
            <label for="gender"> 1. Gender of Patient:</label>
            <select name="Gender" id="gender" required>
                <option value="" selected hidden></option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Nonbinary">Nonbinary</option>
                <option value="Transgender Female">Transgender Female</option>
                <option value="Transgender Male">Transgender Male</option>
                <option value="Prefer not to answer">Prefer not to answer</option>
            </select>

            <!-- Date of Birth -->
            <label for="dob"> 2. Date of Birth:</label>
            <input type="date" id="dob" name="dob" required>

            <!-- Marital Status -->
            <label for="marital_status">3. Marital Status of Parents:</label>
            <select name="marital_status" id="marital_status" required>
                <option value="" selected hidden></option>
                <option value="Living together">Living together</option>
                <option value="Separated">Separated</option>
                <option value="Divorced">Divorced</option>
            </select>

            <!-- Education Level -->
            <label for="education_level">4. Parent's Highest Education Level:</label>
            <select name="education_level" id="education_level" required>
                <option value="" selected hidden></option>
                <option value="Primary">Primary</option>
                <option value="Secondary">Secondary</option>
                <option value="Graduate">Graduate</option>
                <option value="Post-graduate">Post-graduate</option>
            </select>

            <!-- Employment Status -->
            <label for="employment_status">5. Employment Status of Parents:</label>
            <select name="employment_status" id="employment_status">
                <option value="" selected hidden></option>
                <option value="Full-time work">Full-time work</option>
                <option value="Part-time work">Part-time work</option>
                <option value="Homemaker">Homemaker</option>
                <option value="Retired">Retired</option>
            </select>

            <!-- Monthly Income -->
            <label for="monthly_income">6. Monthly Family Income:</label>
            <select name="monthly_income" id="monthly_income">
                <option value="" selected hidden></option>
                <option value="Less than 30,000">Less than 30,000</option>
                <option value="30,001–90,999">30,001–90,999</option>
                <option value="Above 91,000">Above 91,000</option>
            </select>

            <!-- Region of Residence -->
            <label for="residence">7. Region of residence:</label>
            <select name="residence" id="residence">
                <option value="" selected hidden></option>
                <option value="Urban">Urban</option>
                <option value="Rural">Rural</option>
            </select>

            <!-- Navigation Button -->
            <br><br>
            <button type="button" id="next-btn">Continue</button>
        </form>
    </div>

    <!-- JavaScript -->
    <script>
        // Save form data and validate inputs
        document.getElementById('next-btn').addEventListener('click', () => {
            const form = document.getElementById('page1-form');

            // Check if form is valid
            if (form.checkValidity()) {
                const formData = Object.fromEntries(new FormData(form).entries());
                localStorage.setItem('page1Data', JSON.stringify(formData)); // Save data to localStorage
                window.location.href = 'two.html'; // Redirect to the next page
            } else {
                alert("Please fill out all required fields before continuing.");
                form.reportValidity(); // Highlight missing fields
            }
        });

         // ✅ Restore saved data when page loads
    window.addEventListener("DOMContentLoaded", () => {
        const savedData = localStorage.getItem("page1Data");
        if (savedData) {
            const formData = JSON.parse(savedData);
            Object.keys(formData).forEach(key => {
                const field = document.querySelector(`[name="${key}"]`);
                if (field) {
                    field.value = formData[key];
                }
            });
        }
    });
    </script>
</body>
</html>


